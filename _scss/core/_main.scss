/* ----------------------------------------------------------
    Moduals
----------------------------------------------------------*/

@import
    "_typography",
    "_button-defaults",
    "_forms",
    "_icons";


/* ----------------------------------------------------------
    Base
----------------------------------------------------------*/

* {
    margin: 0;
    padding: 0;
}

html, body { height: 100%; }

body {
    font-family: $noto;
    font-size: 16px;
    line-height: 1.5;
    font-weight: 300;
    background-color: $background-light;
}

.page-content {
    padding: 0;
    background-color: #fff;
}

a         { color: #2a7ae2; text-decoration: none; }
a:hover   { color: #000; text-decoration: underline; }
a:visited { color: #205caa; }

/* Utility */

.wrap:before,
.wrap:after { content:""; display:table; }
.wrap:after { clear: both; }
.wrap {
    max-width: 800px;
    padding: 0 30px;
    margin: 0 auto;
    zoom: 1;
}

.clear { clear: both; }
.no-scroll { overflow: hidden; }
.no-wrap { white-space: nowrap; }
.hidden { display: none; }
.really-hidden { display: none !important; }


/* ----------------------------------------------------------
    Various Elements
/* ----------------------------------------------------------*/


// Social Media Icons

.social-wrap {
    display: block;
    width: 100%;
    margin: .125rem 0 .5rem;
}
.social {
    width: 30px;
    height: 30px;
    display: inline-block;
    margin-left: .25rem;
}

/* ----------------------------------------------------------
    Modal
/* ----------------------------------------------------------*/
#modal, .modal-bg {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
}
#modal {
    overflow: scroll;
    background: rgba(0,0,0,.9);
    z-index: 100;
    padding: 1rem 1rem 5rem;
}
.modal-form {
    background-color: $white;
    margin: 1rem 0 1rem;
    border-radius: 5px;
    padding: .625rem 1rem 1.25rem;
    .title {
        border-bottom: .0625rem solid $border-gray--vary1;
        padding-bottom: .25rem;
        margin-bottom: .75rem;
    }
    h4 {
        color: $jellyBean;
        text-transform: none;
        text-align: center;
        font-size: 1.25rem;
    }
    .button-square {
        display: block;
        float: right;
        padding: .625rem .5rem;
        line-height: 0;
    }
    .button-one {
        width: 100%;
        padding: 1rem 2.875rem 1.25rem;
    }
}
.alert {
    padding: .5rem 1rem .75rem;
    text-align: center;
    &.sticky {
        position: fixed;
        top: 0;
        right: 0;
        left: 0;
    }
}
.alert--success {
    background: $fruitsalad;
    color: $white;
    display: none;
}
.red-text { color: $redOrange; }


/* ----------------------------------------------------------
    Header & Footer
/* ----------------------------------------------------------*/

// Site header

.site-header {
    background: $white;
    padding: .75rem 0.9375rem 1rem;
    .mbmlogo { display: inline-block; }
    .columns { padding: 0; }
    .social-wrap .inner { float: right; }
    .site-nav { float: right; }
    .logo {
        &.full svg {
            width: 12rem;
        }
        &.icon-small svg{
            width: 9rem;
            height: 4rem;
        }
    }
}

.site-nav {
    display: block;
    a {
        color: $link--vary2;
        margin-left: .0625rem;
        font-weight: 700;
        font-size: .875rem;
        background: $button-gray--light;
        padding: .25rem .5rem;
        border-radius: 3px;
        &:hover {
            text-decoration: none;
            color: $link-hover--vary2;
        }
    }
}

.hello-bar.construction {
    text-align: center;
    background: #4990c1;
    padding: 1rem 0;
    p {
        font-weight: 700;
        color: #fff;
        text-shadow: 1px 1px #38698b;
        margin: 0;
    }
}

// Menu Overlay

#menu-overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    width: 100%;
    background: $background-dark;
    z-index: 10;
    -webkit-transition: all .25s ease .25s;
    -moz-transition: all .25s ease .25s;
    -o-transition: all .25s ease .25s;
    transition: all .25s ease .25s;
    display: none;
    &.show {
        display: block;
    }
    .page-link {
        text-align: left;
        padding: 1.125rem 0;
        display: block;
        color: $white;
        font-weight: 700;
        font-size: 1rem;
        text-rendering: geometricPrecision;
        -webkit-font-smoothing: antialiased;
        .icon {
            float: left;
            svg {
                fill: $white;
                height: 28px;
                width: 26px;
                margin-right: 1rem;
            }
        }
    }
    ul {
        list-style: none;
        margin-left: 0;
    }
    li {
        text-align: left;
        border-bottom: .0625rem solid $border-black--vary1;
    }

    .row-inner {
        width: 100%;
        max-width: 290px;
        display: block;
        margin: 0 auto;
    }
    .social-wrap {

    }
    .social {
        width: 50px;
        height: 50px;
        float: none;
        display: inline-block;
    }
}



// Site footer

.site-footer {
    text-align: center;
    padding: 1rem 0.9375rem 2rem;
    background: $white;
    p {
        margin: 0;
        color: #7e7e7e;
        font-size: .875rem;
    }
    .site-nav {
        margin: .5rem auto 0;
        padding-top: 1rem;
        display: block;
        float: none;
    }
    .logo-wrap {
        display: inline-block;
    }
    .social-wrap {
        margin: 1rem 0 .5rem;
    }
    .social {
        width: 35px;
    }
    .logo {
        &.full svg {
            display: inline-block;
            width: 12rem;
        }
        &.icon-small svg {
            display: inline-block;
            width: 11rem;
            height: 4rem;
        }
    }
}

/* ----------------------------------------------------------
    Structure
/* ----------------------------------------------------------*/

// Major Structural Elements

section { padding: 3rem 0 4.5rem; }

.banner {

    // Structure
    min-height: 350px;
    background: #000;
    padding: 2.5rem 0 4rem;
    .title {  }
    &.home {
        background: url('../../images/bg_mbSax1_sml.jpg') $black no-repeat right bottom;
    }
    &.sub {
        padding: 3.25rem 0 4rem;
        min-height: 290px;
        .title { text-align: center; }
    }
    &.sax {
        background: url('../../images/bg_mbSax2_med.jpg') $black no-repeat center center;
        background-position: center;
    }

}

.features {
    
    // Structure
    padding: 3rem 0 3rem;
    li {
        list-style: none;
        margin: 0;
        min-height: 22rem;
        border-left: solid 1px $border-gray--vary2;
        position: relative;
        display: block;
        &:first-child { border: none; }
    }
    .inner {
        padding: 2rem 1rem;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 0 1rem 3.5rem;
    }
    
    .button-two {
        padding: .875rem .75rem 1rem;
        width: 100%;
        max-width: 11rem;
    }
    // Typesetting
    h4 { margin: 1.1875rem 0 .75rem; }
    p { margin-bottom: 1.5rem; }

}

.testimonials {

    // Structure
    &.full {
        background: url('../../images/stressed_linen.png') #202020;
        ul { margin: 0; list-style: none; }
        .inner {
            background: $background-light;
            border-left: 4px solid $jellyBean;
            padding: 1.5rem 2rem 2rem;
            position: relative;
            .row { margin: 0; }
        }
        img {
            margin-top: 1rem;
            position: absolute;
            bottom: 2rem;
            left: 2rem;
        }
    }
    &.side {
        ul { display: inline-block; }
        li {
            background: #fcfcfc;
            padding: 1.875rem;
            border: .0625rem solid $border-gray--vary1;
            &:last-child { margin-top:1rem; }            
        }
        .author { margin-bottom: 1rem; }
    }
    .author {
        display: block;
        padding: 0;    
    }
    
    // Typesetting
    h3 { color: $white; }
    p, h4 { margin: 0; }
    p.quote { text-indent: -.5rem; margin-bottom: 0; }

}

.bio {
    
    // Structure
    .avatar {
        float: right;
    }
    
    // Typesetting
    h3 {
        margin-bottom: 1rem;
        padding-bottom: 0;
    }

}

.contact {
    
    // Structure
    background: url('../../images/stressed_linen.png') $mineshaft repeat;
    height: 20rem;
    padding: 5rem 0;
    ul.social {
        margin: .75rem 0 1.25rem;
        list-style: none;
        li { display: inline-block; }
        img { margin-right: .25rem; }
    }
    form {
        background: $white;
        border-radius: .3125rem;
        padding: .875rem;
        max-width: 17rem;
        margin-top: 1.375rem;
    }
    .element-wrap {
        display: inline-block;
        width: 100%;
    }
    
    // Elements
    .button-one {
        width: 100%;
        margin-top: .25rem;
    }
    .button-three {
        width: -webkit-fit-content;
        width: -moz-fit-content;
        width: fit-content;
//         max-width: 275px;
        width: 100%;
        text-align: center;
    }

    
    // Typesetting
    h3 {
        padding-bottom: 1rem;
        margin-bottom: 1.25rem;
        color: $white;
        border-bottom: #434343 solid .0625rem;
    }
    p, a {
        font-size: 1.375rem;
        font-style: italic;
        color: $white;
        text-decoration: none;
        -webkit-font-smoothing: antialiased;
    }
}

.group-feature {
    
    // Structure
    .members { 
        border-left: 1px solid $border-gray--vary1;
    }
    li { margin-bottom: 2rem; }
    img {
        display: block;
        margin: 0 auto;
    }
    .member-details {
        display: block;
        margin: 0 auto;
        padding: .5rem 0 0 0;
        h4, p { margin: 0; text-align: center; }
    }
    .button-group { margin: .5rem auto 0; }
    button {
        margin: .5rem auto 0;
        display: block;
    }
    
    //Typography
    h3 {
        padding: 0;
        text-align: center;
    }
}

.blocks {
    
    // Structure
    ul.block-sections {
        li {
            margin-bottom: 2.75rem;
        }
    }
    
}

// Video Section

.video {
    background: url('../../images/stressed_linen.png') #202020;
    h3 { padding-bottom: .5rem; }
    p { padding-bottom: .25rem; }
}
.video-wrapper {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 */
    padding-top: 25px;
    height: 0;
    iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
}

// Minor Structural Elements

.blurb {
    
    display: block;
    margin: 0 auto;
    position: relative;
    border-top: .0625rem solid $border-gray--vary1;
    .icon {
        position: absolute;
        left: 0;
        top: 10px;
    }
    
    p {
        padding-left: 2.5rem;
        font-size: 1.25rem;
        line-height: 1.4375;
    }
}


/* ----------------------------------------------------------
    Splash Page
/* ----------------------------------------------------------*/

.splashpage {
    min-height: 450px;
    height: 100vh;
    height: calc(100vh - 6.95rem);
    text-align: center;
    position: relative;
    .inner {
        margin: 5rem 0;
        position: absolute;
        top: 12%;
    }
    img.logo {
        margin: 0 auto;
        display: block;
    }
    ul.social-links {
        margin: 2rem auto 0;
        display: inline-block;
        list-style: none;
        li {
            display: block;
            margin: 0 .25rem;
            float: left;
            a {
                width: 53px;
                height: 54px;
                margin-top: .25rem;
                display: block;
                cursor: pointer;
                -moz-transition: margin .125s; /* Firefox */
                -webkit-transition: margin .125s; /* Safari 3.1 to 6.0 */
                transition: margin .125s;
                -moz-transition-timing-function: ease-in-out;
                -webkit-transition-timing-function: ease-in-out; /* Safari and Chrome */
                transition-timing-function: ease-in-out; /* Firefox */
                &:hover { margin-top: 0; }
                &.facebook { background: url('/images/icon-facebook.png'); }
                &.googleplus { background: url('/images/icon-googleplus.png'); }
                &.youtube { background: url('/images/icon-youtube.png'); }
                &.linkedin { background: url('/images/icon-linkedin.png'); }
            }
        
        }
    }
}

/* ----------------------------------------------------------
    Resets
----------------------------------------------------------*/

.center { margin: 0 auto; text-align: center; }

ul.clean { list-style: none; margin-left: 0; }

.push-top-bottom--sml { margin: .75rem 0; }
.push-top-bottom--med { margin: 1.5rem 0; }
.push-bottom--med { margin-bottom: 1.5rem; }

a {
    cursor: pointer;
    &.plain { text-decoration: none; }
}

.clear { clear: both; }

// .row.wide { max-width: 75rem; }

/* ----------------------------------------------------------
    Media Queries
----------------------------------------------------------*/

@media screen and (min-width: 1024px) {

    .blocks {
        ul.block-sections {
            li:last-child {
                margin-bottom: 0;
            }
        }
    }
}

@media screen and (max-width: 1024px) {
    
    .testimonials {
        &.full {
            p.quote { padding: 0; margin-top: 1.25rem; }
        }
    }
    .video {
        h3 {
            text-align: center;
        }
    }
    
}

@media screen and (max-width: 960px) {
    .youtube-subscribe-wrap {
        display: block;
        margin: 0 auto;
    }
    .blocks {
        padding-bottom: 1.25rem;
    }
    .blurb {
        padding-bottom: 1.875rem;
    }
}

@media screen and (max-width: 750px) {
    
    .site-header {
        padding: .5rem 0.9375rem .25rem;
        .logo {
            &.full svg{
                width: 11rem;
            }
        }
    }
    
}

@media screen and (min-width: 640px) and (max-width: 1023px) {
    
    .testimonials {
        &.side {
            ul { border: .0625rem solid $border-gray--vary1; }
            li { border: none; }
            li:last-child { margin-top: 0rem; }
        }
    }
    
    .blurb {
        padding-top: 0;
        border-top: none;
    }
    
}

@media screen and (max-width: 640px) {
    
    // Typesetting
    
    h1 { font-size: 1.75rem;}
    h3 { padding-bottom: 1.5rem; }
    
    
    // Structure
    
    section { padding: 2rem 0 3.5rem; }
    
    .features {
        li { 
            min-height: 18rem;
            border: none;
        }
        .inner {
            position: relative;
            padding: 0 0 3.5rem;
        }
    }
    
    .site-header {
        padding: .125rem 0.5rem .25rem;
    }
    .banner {
        &.sub { padding: 2rem 0; }
        &.home {
            h1, h2.understated {
                padding-right: 30%
            }
        }
    }
    .testimonials {
        &.full {
            .inner { margin-bottom: .25rem; }
        }
    }
    
    .bio {
        padding: 4rem 0 3.5rem;
        .avatar {
            float: none;
            position: absolute;
            width: 6rem;
            right: 1rem;
            top: -6.5rem;
        }
    }
    
    .contact {
        
        // Structure
        padding: 2rem 0 3rem;
        height: 15rem;
        .avatar {
            margin: 0 auto 1rem;
            float: none;
            display: block;
        }
        ul.social {
            margin: 1.25rem auto 2rem;
            list-style: none;
            display: block;
            width: 241px;
        }
        
        // Elements
        .button-three {
            width: 100%;
            max-width: 100%;
            text-align: center;
        }
        form {
            max-width: 100%;
        }
        
        // Typesetting
        h3 {
            padding-bottom: .875rem;
            margin-bottom: 1rem;
        }
        h3, p, a { text-align: left; }
        p, a {
            font-size: 1.25rem;
            float: none !important;
            padding-bottom: 0.5rem;
            display: block;
        }
    }
    .group-feature {
        button {
            width: 100%;
        }
    }
    .site-footer {
        .social { width: 45px; }
        .social-wrap { margin-bottom: 1rem; }
        .site-nav {
            border: none;
            a {
                width: 100%;
                display: block;
                margin-bottom: .25rem;
                padding: .875rem 0 1rem;
                margin-left: 0;
                background: $button-blue;
                border-radius: 3px;
                color: #fff;
                -webkit-font-smoothing: antialiased;
                font-size: 1rem;
                cursor: pointer;
                text-decoration: none;
                &:hover, :focus {
                    background: $button-blue--dark;
                }
            }
        }
    }
    // Modal Form
    .modal-form {
        margin: .5rem 0 0;
    }
}

@media screen and (max-width: 600px) {

}

@media screen and (max-width: 480px) {

    .splashpage {
        height: auto;
        min-height: 0;
        .inner { position: relative; margin: 4rem 0 6rem; }
    }
    
    .blurb {
        .icon {
            position: relative;
            margin: 0 auto 1rem;
            display: block;
        }       
        p { padding-left: 0; }
    }
    .contact p, .contact a {
        font-size: 1.0625rem;
    }
    // Modal Form
    #modal {
        padding: 0;
    }
    .modal-form {
        margin: 0;
        border-radius: 0;
        h4 {
            font-size: 1.0625rem;
            text-align: left;
        }
    }
    .button-three.modal-closer {
        margin-top: 0;
    }
}

@media screen and (max-width: 400px) {
    .banner {
        h1 { font-size: 1.5rem; }
        h2.understated { font-size: 1rem; }
        &.home {
            min-height: 450px;
            h1 {
                margin-top: 0;
                padding-right: 0;
            }
            h2.understated {
                max-width: 190px;
                padding-right: 0;
            }
        }
    }
}

@media screen and (max-width: 320px) {

    
}

/* ----------------------------------------------------------
    Mobile First Images
----------------------------------------------------------*/

@media screen and (min-width: 401px) {
    .banner {
        &.home {
            background: url('../../images/bg_mbSax1_med.jpg') $black no-repeat right bottom;
        }
    }
}
@media screen and (min-width: 641px) {
    .banner {
        &.home {
            background: url('../../images/bg_mbSax1_lrg.jpg') $black no-repeat center -40px;
        }
    }
}